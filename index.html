<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <title>Ad Slasher</title>
  <meta name="author" content="Branden Soropia" />
  <meta
    name="description"
    content="Hone ad evading skills and cut through their ranks to access your content."
  />
  <style>
    html,
    body {
      margin: 0;
      height: 100%;
    }

    body {
      background-color: bisque;
      font-size: 62.5%;
    }

    .hidden {
      display: none !important;
    }

    h3 {
      font-size: 3.2rem;
    }

    p {
      font-size: 1.6rem;
      margin: 0;
    }

    input::placeholder {
      font-size: inherit;
    }

    .modal {
      background-color: rgba(59, 52, 52, 0.5);
      left: 0;
      height: 100%;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1;
    }

    .modal.sign-up .content {
      align-items: center;
      background: white;
      border-radius: 5px;
      display: flex;
      flex-direction: column;
      margin: 10% auto;
      padding: 1.6rem;
      text-align: center;
      width: 20rem;
    }

    .modal.sign-up .content h3 {
      margin: 0;
    }

    .modal.sign-up .content > form {
      align-items: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      margin: 1.6rem 0;
      width: 100%;
    }

    .modal.sign-up .content > form > input {
      height: 1.6rem;
      font-size: 1.2rem;
      width: 75%;
    }

    .modal.sign-up .content > form > input {
      height: 1.6rem;
      font-size: 1.2rem;
      width: 75%;
      margin-bottom: 0.8rem;
    }

    .modal.sign-up .content > form > button {
      width: 50%;
    }

    .sso {
      display: flex;
      flex-direction: column;
      height: 6rem;
      justify-content: space-between;
      margin-top: 1.6rem;
      width: 100%;
    }

    .sso > button {
      border-radius: 0;
      color: white;
      font-size: 1.6rem;
      padding: 0.4rem 0.8rem;
    }

    .sso > button.facebook {
      background-color: #4267b2;
    }

    .sso > button.google {
      background-color: rgb(66, 133, 244);
    }

    /* TODO: Insert tacky 45 deg stripped background */
    #start-screen {
      align-items: center;
      border: 1px solid black;
      background-color: beige;
      display: flex;
      flex-direction: column;
      height: 100%;
      width: 100%;
    }

    #start-screen > p {
      margin: 1.6rem 0;
    }

    #play-button {
      border-radius: 3px;
      font-size: 2.4rem;
      padding: 0.4rem 3.2rem;
    }
  </style>
</head>
<html>
  <body>
    <div id="start-screen">
      <h3>Ad Slasher</h3>
      <p>
        Cut through hordes of ads to access that sweet, sweet content you came
        for! Use phony credentials, mash those close buttons, and even
        surgically remove elements from the page, the options are boundless!
      </p>
      <button id="play-button" onclick="startGame();">Play</button>
    </div>
    <div id="game" class="hidden">
      <button onclick="endGame();">Done!</button>
      <div class="modal sign-up">
        <div class="content">
          <h3>Welcome to Binterest</h3>
          <p>Find all the ideas to try</p>
          <form id="sign-up" onsubmit="return mockSignUp();">
            <input id="email" type="email" placeholder="Email" />
            <input id="password" type="password" placeholder="password" />
            <input id="age" type="number" placeholder="Age" />
            <button type="submit">Continue</button>
          </form>
          <p>or</p>
          <!-- Potential reusable component -->
          <div class="sso">
            <button class="facebook" onclick="mockSignUp();">
              Continue with Facebook
            </button>
            <button class="google" onclick="mockSignUp();">
              Continue with Google
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    // Game internals
    let startTime = null;
    let endTime = null;

    function clearTimes() {
      startTime = null;
      endTime = null;
    }

    function setStartTime() {
      startTime = Date.now();
    }

    function setEndTime() {
      endTime = Date.now();
    }

    function toggleGameDisplay() {
      document.getElementById("start-screen").classList.toggle("hidden");
      document.getElementById("game").classList.toggle("hidden");
    }

    function startGame() {
      clearTimes(); // Make sure times are reset
      setStartTime();
      toggleGameDisplay();
    }

    function endGame() {
      setEndTime();
      displayTime();
    }

    function displayTime() {
      toggleGameDisplay();
      alert(
        `You finished in ${((endTime - startTime) / 1000).toFixed(2)} seconds!`
      );
    }

    // TODO: cheat detection. Generate a list of ads in a specific order. Ads must be closed in that order, one at time.

    // Ad generating functions

    // Mock ad interactions
    function mockSignUp(event) {
      alert("No, don't give in!");

      return false;
    }
  </script>
</html>
